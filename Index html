<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>KornDog Records â€¢ Ultimate Vinyl Experience</title>
  <meta name="description" content="Experience our revolutionary 3D record store! Walk through virtual aisles of vinyl, funkos, and collectibles with Zombie Kitty and KornDog as your guides.">
  
  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Permanent+Marker&display=swap" rel="stylesheet">
  <!-- Three.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  
  <link rel="stylesheet" href="styles.css">
</head>
<body class="mode-2d">
  <!-- Loading Screen -->
  <div class="loading-screen" id="loadingScreen">
    <div class="loading-logo">KornDog Records</div>
    <div class="loading-text">Initializing Ultimate Vinyl Experience...</div>
    <div class="loading-bar">
      <div class="loading-progress" id="loadingProgress"></div>
    </div>
  </div>

  <!-- UI Overlay for 3D Mode -->
  <div class="ui-overlay">
    <!-- Navigation -->
    <nav class="nav">
      <div class="nav-brand">
        <img src="assets/images/characters/korndog-logo.png" alt="KornDog Records" style="height: 40px; width: auto; margin-right: 10px;">
        KornDog Records
      </div>
      <div class="nav-controls">
        <button class="btn btn-accent sparkle-effect" id="toggle3D">
          <i class="fas fa-cube"></i>
          <span id="dimensionText">Enter 3D Store</span>
        </button>
        <button class="btn btn-secondary cart-btn" id="cartBtn">
          <i class="fas fa-shopping-cart"></i>
          Cart
          <span class="cart-count" id="cartCount">0</span>
        </button>
      </div>
    </nav>

    <!-- 3D Navigation Controls -->
    <div class="hud" id="hud3D">
      <div class="hud-title">3D Navigation</div>
      <div class="controls-grid">
        <div><strong>W/A/S/D:</strong> Move</div>
        <div><strong>Mouse:</strong> Look</div>
        <div><strong>Click:</strong> Interact</div>
        <div><strong>Space:</strong> Jump</div>
      </div>
    </div>

    <!-- Dimension Toggle -->
    <div class="dimension-toggle">
      <div class="toggle-title">View Mode</div>
      <button class="mode-btn active" id="mode2D">
        <i class="fas fa-desktop"></i>
        <span>2D</span>
      </button>
      <button class="mode-btn" id="mode3D">
        <i class="fas fa-cube"></i>
        <span>3D</span>
      </button>
      <button class="mode-btn" id="modeVR">
        <i class="fas fa-vr-cardboard"></i>
        <span>VR</span>
      </button>
    </div>

    <!-- Mobile Controls for 3D -->
    <div class="mobile-controls">
      <div class="joystick-container">
        <div class="joystick" id="joystick"></div>
      </div>
      <div class="touch-actions">
        <button class="touch-btn" id="jumpBtn">
          <i class="fas fa-arrow-up"></i>
          <span>Jump</span>
        </button>
        <button class="touch-btn" id="interactBtn">
          <i class="fas fa-hand-pointer"></i>
          <span>Touch</span>
        </button>
      </div>
    </div>

    <!-- Enhanced Product Panel -->
    <div class="product-panel" id="productPanel">
      <img class="product-image" id="panelImage" src="" alt="">
      <div class="product-title" id="panelTitle"></div>
      <div class="product-price" id="panelPrice"></div>
      <div class="product-description" id="panelDescription"></div>
      <div class="product-actions">
        <button class="btn btn-primary" id="addToCartBtn">
          <i class="fas fa-cart-plus"></i>
          Add to Cart
        </button>
        <button class="btn btn-secondary" id="closePanelBtn">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>

    <!-- Enhanced Character Popup -->
    <div class="character-popup" id="characterPopup">
      <div class="character-header">
        <div class="character-avatar">
          <img id="characterAvatar" src="" alt="Character">
        </div>
        <div>
          <div class="character-name" id="characterName">Zombie Kitty</div>
          <div class="character-role" id="characterRole">Shop Guide</div>
        </div>
      </div>
      <div class="character-message" id="characterMessage">
        Welcome to our magical record store! Choose your dimension - explore in classic 2D or step into our immersive 3D world.
      </div>
      <div class="character-actions">
        <button class="btn btn-primary" id="dismissCharacter">Let's explore!</button>
      </div>
    </div>

    <!-- Floating 3D Characters -->
    <div class="floating-3d-characters" id="floating3DCharacters">
      <div class="floating-character zombie-kitty" id="floating3DZombie" onclick="focusCharacter('zombie')">
        <img src="assets/images/characters/zombie-kitty.png" alt="Zombie Kitty">
      </div>
      <div class="floating-character chibi-kitty" id="floating3DChibi" onclick="focusCharacter('chibi')">
        <img src="assets/images/characters/chibi-kitty.png" alt="Chibi Kitty">
      </div>
      <div class="floating-character korndog-mascot" id="floating3DKorndog" onclick="focusCharacter('korndog')">
        <img src="assets/images/characters/korndog-logo.png" alt="KornDog">
      </div>
    </div>
  </div>

  <!-- 2D Content Area -->
  <div class="content-2d" id="content2D">
    <!-- Hero Section -->
    <section class="hero-section">
      <div class="hero-background">
        <div class="hero-vinyl hero-vinyl-1"></div>
        <div class="hero-vinyl hero-vinyl-2"></div>
      </div>
      <div class="container">
        <div class="hero-content">
          <h1 class="hero-title">Welcome to the <span style="color: var(--accent1);">Ultimate</span> Vinyl Experience</h1>
          <p class="hero-subtitle">Choose your dimension - explore our collection in classic 2D or step into our revolutionary 3D record store</p>
          <div class="hero-logo magical-glow" id="heroLogo">
            <img src="assets/images/characters/korndog-logo.png" alt="KornDog Records" style="width: 80%; height: auto;">
          </div>
          <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
            <button class="btn btn-accent btn-lg sparkle-effect" onclick="enter3DStore()">
              <i class="fas fa-cube"></i> Enter 3D Store
            </button>
            <button class="btn btn-primary btn-lg" onclick="browse2D()">
              <i class="fas fa-th-large"></i> Browse Collection
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Showcase -->
    <section style="padding: 4rem 0; background: rgba(0, 0, 0, 0.2);">
      <div class="container">
        <div style="text-align: center; margin-bottom: 3rem;">
          <h2 style="font-size: 2.5rem; font-weight: 900; margin-bottom: 1rem;">Two Worlds, One Store</h2>
          <p style="color: var(--muted); font-size: 1.1rem;">Experience vinyl shopping like never before</p>
        </div>
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 3rem;">
          <div style="text-align: center; padding: 2rem; background: rgba(255, 255, 255, 0.05); border-radius: 16px; border: 1px solid rgba(255, 255, 255, 0.1);">
            <i class="fas fa-desktop" style="font-size: 3rem; color: var(--accent1); margin-bottom: 1rem;"></i>
            <h3 style="font-size: 1.5rem; margin-bottom: 1rem;">Classic 2D Experience</h3>
            <p style="color: var(--muted); margin-bottom: 1.5rem;">Browse our curated collection with advanced filtering, character interactions, and smooth animations</p>
            <button class="btn btn-primary" onclick="browse2D()">Browse 2D Store</button>
          </div>
          <div style="text-align: center; padding: 2rem; background: rgba(255, 255, 255, 0.05); border-radius: 16px; border: 1px solid rgba(255, 255, 255, 0.1);">
            <i class="fas fa-cube" style="font-size: 3rem; color: var(--accent2); margin-bottom: 1rem;"></i>
            <h3 style="font-size: 1.5rem; margin-bottom: 1rem;">Immersive 3D World</h3>
            <p style="color: var(--muted); margin-bottom: 1.5rem;">Walk through virtual aisles, interact with floating albums, and meet our characters in 3D space</p>
            <button class="btn btn-accent sparkle-effect" onclick="enter3DStore()">Enter 3D Store</button>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- 3D Canvas -->
  <canvas id="canvas3D"></canvas>

  <script src="script.js"></script>
</body>
</html>
