# We'll generate a single-file HTML with embedded base64 assets and working radio + PayPal.
import base64, textwrap, os, json, pathlib

# Load images from provided paths
paths = {
    "logo": "/mnt/data/1000044602.png",
    "zombie": "/mnt/data/1000044601.png",
    "olivia": "/mnt/data/1000045091.jpg",
}
b64 = {}
for k, p in paths.items():
    with open(p, "rb") as f:
        b64[k] = base64.b64encode(f.read()).decode("ascii")

paypal_client_id = "AcU9sSdlnQlq_dsilwLNL2Kw5YQczqtoEpuYmoADtbJ7be3JaMUXpignQu2RiUcnBEuH_e-edGgSnYv8"

html = f"""<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KornDog Records ‚Äî Vinyl Therapy Always On Deck</title>
  <link href="https://fonts.googleapis.com/css2?family=Bangers:wght@400&family=Comic+Neue:wght@300;400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/png;base64,{b64['logo']}">
  <style>
    :root {{
      --pink:#ec4899; --green:#10b981; --ink:#0b1020; --ink2:#152c45;
      --bg1:#0d0f14; --card:rgba(255,255,255,.06); --muted:rgba(255,255,255,.75);
    }}
    * {{ box-sizing:border-box }}
    html,body {{ margin:0; height:100%; background:linear-gradient(135deg,#2d1b69,#4a148c); color:#fff; font-family:'Comic Neue', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }}
    a {{ color:inherit }}
    /* Header */
    header {{ position:sticky; top:0; z-index:50; background:linear-gradient(90deg,#4a148c,#7b1fa2); box-shadow:0 4px 20px rgba(0,0,0,.3) }}
    .nav {{ width:min(1150px,96vw); margin:0 auto; display:flex; align-items:center; justify-content:space-between; padding:12px 0 }}
    .logo-wrap {{ display:flex; align-items:center; gap:10px }}
    .logo-img {{ height:52px; width:auto; border-radius:8px; filter:drop-shadow(0 2px 8px rgba(0,0,0,.4)) }}
    .logo-text {{ font-family:'Bangers', cursive; font-size:2.1rem; color:#00ff66; text-shadow:3px 3px 0 #000; letter-spacing:2px }}
    .menu {{ display:flex; gap:16px; align-items:center; flex-wrap:wrap }}
    .menu a {{ text-decoration:none; padding:8px 14px; border-radius:20px; background:rgba(0,255,0,.12); transition:.2s }}
    .menu a:hover, .menu a.active {{ background:#00ff66; color:#4a148c }}
    /* Pages */
    main {{ width:min(1150px,96vw); margin:22px auto 120px }}
    .page {{ display:none; animation:fade .35s ease }}
    .page.active {{ display:block }}
    @keyframes fade {{ from{{opacity:0;transform:translateY(8px)}} to{{opacity:1;transform:none}} }}
    /* Home hero */
    .hero {{ text-align:center }}
    .ghost-logo {{ width:min(520px,85vw); opacity:.1; display:block; margin:0 auto 10px; }}
    .boombox {{ background:linear-gradient(135deg,#0a1a2a,#152c45,#0a1a2a); border:4px solid #000; border-radius:16px; box-shadow:0 16px 40px rgba(0,0,0,.55), inset 0 2px 10px rgba(255,255,255,.08); padding:14px; margin:18px auto; max-width:880px }}
    .bbx-inner {{ display:grid; grid-template-columns:1fr 2fr 1fr; gap:12px; align-items:center }}
    .speaker {{ aspect-ratio:1; border-radius:50%; background:#0a1a2a; border:6px solid #000; box-shadow:inset 0 0 18px rgba(0,0,0,.9) }}
    .controls {{ background:#0a1a2a; border:2px solid #152c45; border-radius:12px; padding:10px; display:grid; gap:10px }}
    .lcd {{ background:#000; border:2px solid #333; border-radius:8px; padding:10px; text-align:center; font-family:'Courier New',monospace }}
    .lcd .name {{ color:#e74c3c; font-weight:800; text-shadow:0 0 6px rgba(231,76,60,.6) }}
    .eq {{ height:14px; display:inline-flex; gap:2px; align-items:flex-end; margin-left:6px }}
    .eq i {{ width:4px; background:#e74c3c; height:14px; animation:eq .8s infinite ease-in-out; box-shadow:0 0 6px rgba(231,76,60,.6) }}
    .eq.paused i {{ animation:none; height:3px }}
    @keyframes eq {{ 0% {{height:3px}} 50% {{height:14px}} 100% {{height:3px}} }}
    .cass-btns {{ display:flex; justify-content:center; gap:8px }}
    .round {{ width:42px; height:42px; border-radius:10px; background:#333; border:2px solid #444; display:grid; place-items:center; box-shadow:0 3px 0 #222, inset 0 1px 1px rgba(255,255,255,.1); cursor:pointer }}
    .round.red {{ background:#e74c3c; border-color:#c0392b }}
    .volume {{ display:flex; align-items:center; gap:8px; justify-content:center }}
    input[type=range]{{ width:140px }}
    /* Grid */
    .product-grid {{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:18px }}
    .card {{ background:var(--card); border:1px solid rgba(255,255,255,.1); border-radius:14px; overflow:hidden }}
    .img {{ height:240px; background:#111; position:relative }}
    .img img {{ width:100%; height:100%; object-fit:cover }}
    .body {{ padding:14px }}
    .price {{ color:#00ff66; font-weight:900 }}
    .badge {{ background:rgba(255,255,255,.12); padding:4px 8px; border-radius:6px; font-size:12px }}
    .actions {{ display:flex; gap:10px; margin-top:12px }}
    /* Cart */
    .cart-toggle {{ position:fixed; top:50%; right:0; transform:translateY(-50%); background:#00ff66; color:#4a148c; border:none; padding:1rem; border-radius:15px 0 0 15px; cursor:pointer; z-index:60; font-size:1.4rem }}
    .cart {{ position:fixed; top:50%; right:-420px; transform:translateY(-50%); width:380px; background:linear-gradient(135deg,#4a148c,#7b1fa2); border-radius:15px 0 0 15px; padding:1.2rem; box-shadow:-5px 0 25px rgba(0,0,0,.3); transition:right .25s ease; z-index:70; max-height:84vh; overflow:auto }}
    .cart.open {{ right:0 }}
    .item {{ display:flex; justify-content:space-between; align-items:center; padding:10px; border-bottom:1px solid rgba(255,255,255,.12) }}
    /* Mini player */
    .mini-player {{ position:fixed; bottom:20px; right:20px; background:rgba(0,0,0,.82); padding:12px; border-radius:10px; display:none; z-index:65 }}
    /* Kittys */
    .kitty {{ position:fixed; bottom:100px; right:18px; width:110px; height:110px; z-index:64 }}
    .kitty img {{ width:100%; height:100%; object-fit:cover; border-radius:50%; border:3px solid #00ff66 }}
    .bubble {{ position:absolute; bottom:115px; right:120px; background:#00ff66; color:#000; padding:10px 12px; border-radius:12px; max-width:220px; display:none; box-shadow:0 4px 15px rgba(0,0,0,.3) }}
    .bubble::after {{ content:''; position:absolute; top:50%; right:-10px; transform:translateY(-50%); border:10px solid transparent; border-left-color:#00ff66 }}
    @media(max-width:820px){{ .cart{{ width:100%; right:-100% }} }}
  </style>
</head>
<body>
  <!-- Header / Nav -->
  <header>
    <div class="nav">
      <div class="logo-wrap">
        <img class="logo-img" src="data:image/png;base64,{b64['logo']}" alt="KornDog logo">
        <div class="logo-text">KornDog Records</div>
      </div>
      <nav class="menu">
        <a href="#" data-page="home" class="active">Home</a>
        <a href="#" data-page="vinyl">Vinyl</a>
        <a href="#" data-page="cds">CDs</a>
        <a href="#" data-page="funkos">Funkos</a>
        <a href="#" data-page="collectibles">Collectibles</a>
        <a href="#" data-page="about">About</a>
        <a href="#" data-page="admin">Admin</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- HOME -->
    <section id="home" class="page active">
      <div class="hero">
        <img class="ghost-logo" alt="" src="data:image/png;base64,{b64['logo']}">
        <h1 style="font-family:'Bangers',cursive; font-size:3rem; margin:0 0 8px;">Vinyl Therapy Always On Deck</h1>
        <p style="opacity:.85; max-width:780px; margin:0 auto 10px;">Hand-picked records, Funkos & collectibles. Kick on the radio, browse, and vibe.</p>
      </div>
      <div class="boombox">
        <div class="bbx-inner">
          <div class="speaker" aria-hidden="true"></div>
          <div class="controls">
            <div class="lcd">
              <div class="name" id="stationName">Ozzy Radio</div>
              <div style="color:#aaa;font-size:12px" id="stationDesc">Prince of Darkness</div>
              <div class="eq" id="eq"><i></i><i></i><i></i><i></i><i></i></div>
            </div>
            <div style="display:flex; gap:8px; flex-wrap:wrap; justify-content:center" id="preset"></div>
            <div class="cass-btns">
              <button class="round" onclick="prevStation()">‚èÆ</button>
              <button class="round" id="playBtn" onclick="playPause()">‚ñ∂</button>
              <button class="round" onclick="nextStation()">‚è≠</button>
              <button class="round" id="muteBtn" onclick="toggleMute()">üîä</button>
              <button class="round red" onclick="openRadio()">üì∫</button>
            </div>
            <div class="volume">
              <div style="font-size:12px;opacity:.7">VOL</div>
              <input id="vol" type="range" min="0" max="100" value="70" oninput="setVol(this.value)">
            </div>
          </div>
          <div class="speaker" aria-hidden="true"></div>
        </div>
      </div>
    </section>

    <!-- VINYL -->
    <section id="vinyl" class="page">
      <h2>Vinyl Records</h2>
      <div class="product-grid" id="vinylGrid"></div>
    </section>
    <!-- CDS -->
    <section id="cds" class="page">
      <h2>Compact Discs</h2>
      <div class="product-grid" id="cdsGrid"></div>
    </section>
    <!-- FUNKOS -->
    <section id="funkos" class="page">
      <h2>Funko Pop! Figures</h2>
      <div class="product-grid" id="funkosGrid"></div>
    </section>
    <!-- COLLECTIBLES -->
    <section id="collectibles" class="page">
      <h2>Rare Collectibles</h2>
      <div class="product-grid" id="collectiblesGrid"></div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="page">
      <h2>About KornDog Records</h2>
      <p style="max-width:820px">KornDog Records was built from tough days and good music. When life got loud, spinning vinyl was therapy‚Äîno pills, no algorithms, just needle-to-groove. Zombie Kitty started as a Friday the 13th tattoo I did with my daughter; now she‚Äôs our friendly gatekeeper for the crates.</p>
      <div style="display:flex; gap:18px; align-items:center; flex-wrap:wrap; margin-top:10px;">
        <img src="data:image/png;base64,{b64['zombie']}" style="width:min(260px,45vw); border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.4)" alt="Zombie Kitty">
        <div style="max-width:700px">
          <h3>Olivia‚Äôs Drawing</h3>
          <p>This cheerful sketch was drawn by my daughter Olivia while hanging out at my job. She gave it swagger and a tiny sidekick. We keep her art here because it captures what KornDog is about: family, playfulness, and finding joy in collecting the things we love.</p>
          <img src="data:image/jpeg;base64,{b64['olivia']}" style="width:min(320px,60vw); border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,.4)" alt="Olivia's drawing">
        </div>
      </div>
    </section>

    <!-- ADMIN -->
    <section id="admin" class="page">
      <div style="background:var(--card); border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:14px;">
        <h2>Inventory</h2>
        <p>Login: <code>vinyltherapy2025!</code></p>
        <button onclick="unlockAdmin()">Unlock Admin</button>
        <div id="adminPanel" style="display:none; margin-top:10px">
          <div style="display:flex; gap:10px; flex-wrap:wrap">
            <button onclick="exportBackup()">Export</button>
            <label style="display:inline-block"><span style="margin-right:8px">Import</span><input type="file" accept="application/json" onchange="importBackup(this.files[0])"></label>
          </div>
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-top:14px">
            <form id="productForm" onsubmit="saveProduct(event)" style="background:rgba(255,255,255,.05); border-radius:12px; padding:12px">
              <h3>Add / Edit Product</h3>
              <label>Title<input id="fTitle" required></label>
              <label>Category
                <select id="fCat">
                  <option value="vinyl">Vinyl</option><option value="cds">CDs</option>
                  <option value="funkos">Funkos</option><option value="collectibles">Collectibles</option>
                </select>
              </label>
              <label>Price ($)<input id="fPrice" type="number" min="0" step="0.01" required></label>
              <label>Stock<input id="fStock" type="number" min="0" step="1" value="1"></label>
              <label>Description<textarea id="fDesc" rows="3"></textarea></label>
              <label>Front photo<input id="fImgFront" type="file" accept="image/*"></label>
              <label>Back photo<input id="fImgBack" type="file" accept="image/*"></label>
              <div style="display:flex; gap:8px; margin-top:8px"><button type="submit">Save</button><button type="button" onclick="resetForm()">Reset</button></div>
            </form>
            <div>
              <input id="search" placeholder="Search‚Ä¶" oninput="renderInventory()" style="width:100%; padding:8px; border-radius:8px; border:1px solid rgba(255,255,255,.2); background:rgba(255,255,255,.1); color:#fff">
              <div id="invList" style="margin-top:10px; max-height:420px; overflow:auto"></div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Cart -->
  <button class="cart-toggle" onclick="toggleCart()">üõí</button>
  <aside class="cart" id="cart">
    <h3>Your Cart</h3>
    <div id="cartItems"></div>
    <div id="cartTotals" style="margin-top:8px"></div>
    <div id="shippingOptions" style="margin-top:10px; display:none">
      <label><input type="radio" name="shipping" value="standard" checked> Standard ($5.99)</label><br>
      <label><input type="radio" name="shipping" value="express"> Express ($12.99)</label><br>
      <label><input type="radio" name="shipping" value="overnight"> Overnight ($24.99)</label>
    </div>
    <div id="paypal-buttons" style="margin-top:12px"></div>
  </aside>

  <!-- Mini Player -->
  <div id="miniPlayer" class="mini-player">
    <strong style="color:#00ff66">BOOMBOX</strong> <span id="miniStation" style="opacity:.8; margin-left:6px"></span>
  </div>

  <!-- Kittys -->
  <div class="kitty" id="kitty">
    <img id="kittyImg" src="data:image/png;base64,{b64['zombie']}" alt="Kitty">
    <div class="bubble" id="kittyBubble"></div>
  </div>

  <!-- Radio Modal -->
  <div id="radioModal" style="position:fixed; inset:0; display:none; place-items:center; background:rgba(0,0,0,.85); z-index:80">
    <div style="background:#0d0f14; border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:16px; width:min(900px,96vw)">
      <div style="display:flex; justify-content:space-between; align-items:center">
        <h3 id="modalTitle" style="margin:0">Ozzy Radio</h3>
        <button onclick="closeRadio()">Close</button>
      </div>
      <div id="yt" style="margin-top:10px; width:100%; aspect-ratio:16/9; background:#000"></div>
    </div>
  </div>

  <div id="playerRoot" style="position:fixed; inset:auto; bottom:0; right:0; width:1px; height:1px; overflow:hidden"></div>

  <script>
    // ========= NAV =========
    const pages = Array.from(document.querySelectorAll('.page'));
    document.querySelectorAll('.menu a').forEach(a => {{
      a.addEventListener('click', (e) => {{
        e.preventDefault();
        const id = a.dataset.page;
        showPage(id);
      }});
    }});
    function showPage(id){{
      pages.forEach(p=>p.classList.remove('active'));
      document.querySelectorAll('.menu a').forEach(a=>a.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      document.querySelector('.menu a[data-page="'+id+'"]')?.classList.add('active');
      document.getElementById('miniPlayer').style.display = (id==='home') ? 'none' : 'block';
    }}

    // ========= INVENTORY & GRID =========
    let products = [
      {{id:'v1', title:'Zombie Kitty Vinyl Special', category:'vinyl', price:29.99, stock:2, desc:'Limited pressing. NM.', imageFront:'data:image/png;base64,{b64['zombie']}', imageBack:'data:image/jpeg;base64,{b64['olivia']}'}},
      {{id:'p1', title:'Metallica - Master of Puppets', category:'vinyl', price:24.99, stock:3, desc:'Original pressing. Includes lyric sheet.', imageFront:'https://images.unsplash.com/photo-1539375665275-f9de415ef9ac?auto=format&fit=crop&w=800&q=80', imageBack:'https://images.unsplash.com/photo-1603048588665-791ca91d0e92?auto=format&fit=crop&w=800&q=80'}},
      {{id:'f1', title:'Olivia Drawing Collectible', category:'funkos', price:89.99, stock:1, desc:'Framed art.', imageFront:'data:image/jpeg;base64,{b64['olivia']}', imageBack:'data:image/png;base64,{b64['zombie']}'}},
      {{id:'c1', title:'System of a Down CD', category:'cds', price:12.99, stock:4, desc:'NM condition.', imageFront:'https://images.unsplash.com/photo-1586015555751-63c3fdb6f12f?auto=format&fit=crop&w=800&q=80', imageBack:''}},
      {{id:'co1', title:'Zombie Kitty Art Piece', category:'collectibles', price:149.99, stock:1, desc:'Original print.', imageFront:'data:image/png;base64,{b64['zombie']}', imageBack:''}}
    ];
    try {{ const saved = JSON.parse(localStorage.getItem('korndog-products')||'[]'); if(saved.length) products = saved; }} catch(e){{}}

    function renderCategory(cat, gridId){{
      const grid = document.getElementById(gridId);
      grid.innerHTML='';
      products.filter(p=>p.category===cat).forEach(p=>grid.appendChild(card(p)));
    }}
    function card(p){{
      const el = document.createElement('div'); el.className='card';
      el.innerHTML = `
        <div class="img" onclick="flip(this)">
          <img src="${{p.imageFront||''}}" data-front="${{p.imageFront||''}}" data-back="${{p.imageBack||''}}">
        </div>
        <div class="body">
          <div style="display:flex;justify-content:space-between;align-items:center;gap:8px">
            <div style="font-weight:800">${{p.title}}</div>
            <div class="price">${{'$'+p.price.toFixed(2)}}</div>
          </div>
          <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center">
            <span class="badge">${{(p.stock??1)>0?(p.stock+' in stock'):'Out of stock'}}</span>
            <span class="badge">${{p.category}}</span>
          </div>
          ${'{'}{p.desc?`<div style="margin-top:6px;opacity:.85">${'{'}p.desc{'}'}</div>`:''}${'}'}
          <div class="actions">
            <button onclick="addToCart('${'{'}p.id{'}'}')">Add</button>
            <button onclick="view('${'{'}p.id{'}'}')">View</button>
          </div>
        </div>`;
      return el;
    }}
    function flip(el){{
      const img = el.querySelector('img');
      const f = img.getAttribute('data-front'); const b = img.getAttribute('data-back');
      if(!b) return;
      img.src = (img.src===f)? b : f;
    }}
    function loadProducts(){{
      renderCategory('vinyl','vinylGrid'); renderCategory('cds','cdsGrid');
      renderCategory('funkos','funkosGrid'); renderCategory('collectibles','collectiblesGrid');
    }}

    // ========= CART =========
    let cart = {{ items:[], subtotal:0, discount:0, tax:0, shipping:5.99, total:0 }};
    try {{ const saved = JSON.parse(localStorage.getItem('korndog-cart')||'null'); if(saved) cart=saved; }} catch(e){{}}
    function toggleCart(){{ const x=document.getElementById('cart'); x.classList.toggle('open'); renderCart(); }}
    function addToCart(id){{
      const p = products.find(x=>x.id===id); if(!p) return;
      const row = cart.items.find(i=>i.id===id);
      if(row) row.qty++; else cart.items.push({{ id, title:p.title, price:p.price, qty:1, image:p.imageFront||'', category:p.category }});
      calcTotals(); saveCart(); renderCart(); speakFor(p.category);
    }}
    function removeFromCart(id){{ cart.items = cart.items.filter(i=>i.id!==id); calcTotals(); saveCart(); renderCart(); }}
    function saveCart(){{ localStorage.setItem('korndog-cart', JSON.stringify(cart)); }}
    function calcTotals(){{
      cart.subtotal = cart.items.reduce((s,i)=>s+i.price*i.qty,0);
      cart.discount = cart.subtotal>200?cart.subtotal*.20:(cart.subtotal>130?cart.subtotal*.10:0);
      const opt = document.querySelector('input[name="shipping"]:checked'); cart.shipping = opt?({{standard:5.99,express:12.99,overnight:24.99}}[opt.value]||5.99):5.99;
      const taxable = cart.subtotal-cart.discount; cart.tax = taxable*.06; cart.total = taxable + cart.tax + cart.shipping;
    }}
    function renderCart(){{
      calcTotals();
      const list=document.getElementById('cartItems'); list.innerHTML='';
      if(!cart.items.length){{ list.innerHTML='<div style="opacity:.8">Cart is empty.</div>'; document.getElementById('shippingOptions').style.display='none'; document.getElementById('paypal-buttons').innerHTML=''; return; }}
      cart.items.forEach(i=>{{
        const el=document.createElement('div'); el.className='item';
        el.innerHTML=`<div style="display:flex;align-items:center;gap:8px">${'{'}i.image?`<img src="${'{'}i.image{'}'}" style="width:50px;height:50px;border-radius:8px;object-fit:cover">`:''}${'}'}<div><div style="font-weight:700">${'{'}i.title{'}'}</div><small>x${'{'}i.qty{'}'}</small></div></div><div style="display:flex;align-items:center;gap:8px"><div>${'${(i.price*i.qty).toFixed(2)}'}</div><button onclick="removeFromCart('${'{'}i.id{'}'}')">Remove</button></div>`;
        list.appendChild(el);
      }});
      document.getElementById('cartTotals').innerHTML = `
        <div>Subtotal: <strong>${'${cart.subtotal.toFixed(2)}'}</strong></div>
        <div>Discount: -${'${cart.discount.toFixed(2)}'}</div>
        <div>Tax (6%): ${'${cart.tax.toFixed(2)}'}</div>
        <div>Shipping: ${'${cart.shipping.toFixed(2)}'}</div>
        <div style="font-size:18px;margin-top:6px">Total: <strong>${'${cart.total.toFixed(2)}'}</strong></div>`;
      document.getElementById('shippingOptions').style.display='block';
      initPayPal(); // ensure buttons reflect fresh total
    }}
    document.querySelectorAll('input[name="shipping"]').forEach(o=>o.addEventListener('change',()=>{{ renderCart(); }}));

    // ========= PAYPAL =========
    function initPayPal(){{
      if(!window.paypal) return;
      const target = document.getElementById('paypal-buttons');
      target.innerHTML='';
      paypal.Buttons({{
        style:{{ color:'gold', shape:'pill', layout:'horizontal', tagline:false }},
        createOrder: (data, actions) => {{
          calcTotals();
          return actions.order.create({{
            purchase_units:[{{
              amount:{{ value: cart.total.toFixed(2) }},
              description:'KornDog Records order'
            }}]
          }});
        }},
        onApprove: (data, actions) => actions.order.capture().then(details=>{{
          alert('Thanks, ' + (details.payer?.name?.given_name||'friend') + '! Your order is confirmed.');
          cart={{items:[], subtotal:0, discount:0, tax:0, shipping:5.99, total:0}}; saveCart(); renderCart();
        }}),
        onError: (err) => alert('PayPal error: ' + err)
      }}).render('#paypal-buttons');
    }}

    // ========= ADMIN =========
    function unlockAdmin(){{
      const pw = prompt('Password'); if(pw==='vinyltherapy2025!') document.getElementById('adminPanel').style.display='block'; else alert('Wrong password');
    }}
    let editingId=null;
    function resetForm(){{ document.getElementById('productForm').reset(); editingId=null; }}
    function uid(){{ return 'p'+Math.random().toString(36).slice(2,9); }}
    function fileToDataURL(file){{ return new Promise((res,rej)=>{{ const r=new FileReader(); r.onload=()=>res(r.result); r.onerror=rej; r.readAsDataURL(file); }}); }}
    async function saveProduct(ev){{
      ev.preventDefault();
      const title=fTitle.value.trim(), category=fCat.value, price=parseFloat(fPrice.value||'0'), stock=parseInt(fStock.value||'0'), desc=fDesc.value.trim();
      const fF=fImgFront.files[0], fB=fImgBack.files[0];
      let imageFront=null, imageBack=null; if(fF) imageFront=await fileToDataURL(fF); if(fB) imageBack=await fileToDataURL(fB);
      if(editingId){{ const p=products.find(x=>x.id===editingId); if(!p) return; Object.assign(p,{{title,category,price,stock,desc}}); if(imageFront) p.imageFront=imageFront; if(imageBack) p.imageBack=imageBack; }}
      else {{ products.push({{ id:uid(), title, category, price, stock, desc, imageFront, imageBack }}); }}
      localStorage.setItem('korndog-products', JSON.stringify(products)); alert('Saved'); resetForm(); renderInventory(); loadProducts();
    }}
    function renderInventory(){{
      const q=(search.value||'').toLowerCase(); const wrap=document.getElementById('invList'); wrap.innerHTML='';
      products.filter(p=>p.title.toLowerCase().includes(q)).forEach(p=>{{
        const el=document.createElement('div'); el.className='item';
        el.innerHTML=`<div>${'{'}p.title{'}'} <small>(${ '{'}p.category{'}'})</small></div><div style="display:flex;gap:6px"><button onclick="startEdit('${'{'}p.id{'}'}')">Edit</button><button onclick="delProduct('${'{'}p.id{'}'}')">Delete</button></div>`;
        wrap.appendChild(el);
      }});
    }}
    function startEdit(id){{ const p=products.find(x=>x.id===id); if(!p) return; editingId=id; fTitle.value=p.title; fCat.value=p.category; fPrice.value=p.price; fStock.value=p.stock||1; fDesc.value=p.desc||''; showPage('admin'); }}
    function delProduct(id){{ if(!confirm('Delete item?')) return; products=products.filter(x=>x.id!==id); localStorage.setItem('korndog-products', JSON.stringify(products)); renderInventory(); loadProducts(); }}

    // ========= KITTY (Zombie / Olivia) =========
    const zombieQuotes = [
      "BRAINS... I mean VINYL! ü§ò",
      "This beat is infectious... like me! üßü‚Äç‚ôÇÔ∏è",
      "Add to cart... or I'll eat your brains! üß†",
      "These prices are to DIE for! üíÄ",
      "Music so good it's SCARY! üëª"
    ];
    const oliviaQuotes = [
      "Hi friend! Let's collect some cuties! üå∏",
      "These Funkos are super kawaii! ‚ú®",
      "Your shelf will sparkle! ‚ú®",
      "This one‚Äôs adorable‚Äîtrust me! üíñ",
      "New best friend unlocked! üß∏"
    ];
    function speakFor(cat){{
      const img=document.getElementById('kittyImg'); const bubble=document.getElementById('kittyBubble');
      if(cat==='vinyl'||cat==='cds') img.src='data:image/png;base64,{b64['zombie']}'; else img.src='data:image/jpeg;base64,{b64['olivia']}';
      const quotes = (cat==='vinyl'||cat==='cds') ? zombieQuotes : oliviaQuotes;
      bubble.textContent = quotes[Math.floor(Math.random()*quotes.length)];
      bubble.style.display='block'; setTimeout(()=>bubble.style.display='none', 3000);
    }}

    // ========= RADIO (YouTube) =========
    const STATIONS=[
      {{ key:'ozzy', label:'Ozzy Radio', desc:'Prince of Darkness', playlist:'PLuUMeDIRRM7mGX_SpuiLwSPkTCtM5NXaN' }},
      {{ key:'metalcore', label:'Metalcore Meltdown', desc:'Breakdowns & riffs', playlist:'PLToUeDNp2s3Kd2mMguU3QMyhM4gHSxzDw' }},
      {{ key:'miku', label:'Hatsune Miku', desc:'Vocaloid vibes', playlist:'RDEMA703AE9PNaNYb3T-XAhR9g' }},
      {{ key:'dgd', label:'Dance Gavin Dance', desc:'Post-hardcore favorites', playlist:'RDEM16389tt61fqxE6JRiZ6_HQ' }}
    ];
    let radioState={{ current:0, playing:false, vol:70, muted:false }};
    try{{ const saved=JSON.parse(localStorage.getItem('kdr_radio_state')||'null'); if(saved) radioState={{...radioState, ...saved}}; }}catch(e){{}}
    let ytPlayer=null;
    function saveRadio(){{ localStorage.setItem('kdr_radio_state', JSON.stringify(radioState)); }}
    function presetButtons(){{
      const wrap=document.getElementById('preset'); wrap.innerHTML='';
      STATIONS.forEach((s,i)=>{{ const b=document.createElement('button'); b.textContent=s.label; b.className='round'; if(i===radioState.current) b.style.background='#e74c3c'; b.onclick=()=>{{ radioState.current=i; applyStation(radioState.playing) }}; wrap.appendChild(b); }});
    }}
    function applyStation(andPlay=true){{
      const s=STATIONS[radioState.current]; document.getElementById('stationName').textContent=s.label; document.getElementById('stationDesc').textContent=s.desc; document.getElementById('miniStation').textContent='‚Ä¢ '+s.label; document.getElementById('modalTitle').textContent=s.label;
      if(ytPlayer){{ ytPlayer.loadPlaylist({{ listType:'playlist', list:s.playlist }}); if(andPlay) ytPlayer.playVideo(); else ytPlayer.pauseVideo(); }}
      updatePlayUI(); saveRadio();
    }}
    function playPause(){{ if(!ytPlayer) return; if(radioState.playing) ytPlayer.pauseVideo(); else ytPlayer.playVideo(); }}
    function nextStation(){{ radioState.current=(radioState.current+1)%STATIONS.length; applyStation(radioState.playing); }}
    function prevStation(){{ radioState.current=(radioState.current-1+STATIONS.length)%STATIONS.length; applyStation(radioState.playing); }}
    function toggleMute(){{ radioState.muted=!radioState.muted; setVol(radioState.vol); document.getElementById('muteBtn').textContent=radioState.muted?'üîá':'üîä'; saveRadio(); }}
    function setVol(v){{ radioState.vol=parseInt(v||'70',10); if(ytPlayer&&ytPlayer.setVolume) ytPlayer.setVolume(radioState.muted?0:radioState.vol); saveRadio(); }}
    function updatePlayUI(){{ document.getElementById('playBtn').textContent=radioState.playing?'‚è∏':'‚ñ∂'; document.getElementById('eq').classList.toggle('paused', !radioState.playing); }}
    function openRadio(){{ document.getElementById('radioModal').style.display='grid'; }}
    function closeRadio(){{ document.getElementById('radioModal').style.display='none'; }}

    // Load YT Iframe API once
    (function(){{
      const tag=document.createElement('script'); tag.src='https://www.youtube.com/iframe_api'; document.body.appendChild(tag);
      window.onYouTubeIframeAPIReady=function(){{
        const s=STATIONS[radioState.current];
        ytPlayer=new YT.Player('yt', {{ height:'100%', width:'100%', playerVars:{{ rel:0, playsinline:1, listType:'playlist', list:s.playlist }}, events:{{ onReady:(e)=>{{ setVol(radioState.vol); if(radioState.playing) e.target.playVideo(); }}, onStateChange:(ev)=>{{ if(ev.data===YT.PlayerState.PLAYING) radioState.playing=true; if(ev.data===YT.PlayerState.PAUSED||ev.data===YT.PlayerState.ENDED) radioState.playing=false; updatePlayUI(); saveRadio(); }}, onError:(err)=>{{ console.warn('YT error',err); nextStation(); }} }});
        // Move player into a tiny holder to keep audio persistent
        const holder=document.createElement('div'); holder.style.width='1px'; holder.style.height='1px'; document.getElementById('playerRoot').appendChild(holder);
        holder.appendChild(document.getElementById('yt'));
        presetButtons(); applyStation(false);
      }}
    }})();

    // ========= INIT =========
    document.addEventListener('DOMContentLoaded',()=>{{ loadProducts(); renderInventory(); presetButtons(); }});
  </script>

  <!-- PayPal SDK (Live) -->AcU9sSdlnQlq_dsilwLNL2Kw5YQczqtoEpuYmoADtbJ7be3JaMUXpignQu2RiUcnBEuH_e-edGgSnYv8
  <script src="https://www.paypal.com/sdk/js?client-id={paypal_client_id}&currency=USD" onload="initPayPal()"></script>
</body>
</html>
"""

out = "/mnt/data/korndog_netlify.html"
with open(out, "w") as f:
    f.write(html)

out
