<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="theme-color" content="#3b2aa2"/>
  <title>KornDog Records • Vinyl Therapy & Collectibles</title>

  <!-- PayPal SDK -->
  <script src="https://www.paypal.com/sdk/js?client-id=AcU9sSdlnQlq_dsilwLNL2Kw5YQczqtoEpuYmoADtbJ7be3JaMUXpignQu2RiUcnBEuH_e-edGgSnYv8&currency=USD" defer></script>

  <style>
    :root{
      --bg1:#e91e63;--bg2:#4caf50;--ink:#eaf4ff;--muted:#b6c2d1;--card:#0b1220;
      --green:hsl(142 76% 36%);--green2:hsl(142 76% 46%);--accent:#ffd166
    }
    *{box-sizing:border-box}html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Helvetica,Arial,sans-serif;
      background:linear-gradient(135deg,#3b2aa2,#0fa77f);
      background-attachment:fixed;color:var(--ink);position:relative}
    
    /* Default ghosted KornDog logo background */
    body::before{
      content:'';position:fixed;top:0;left:0;right:0;bottom:0;
      background-image:url('data:image/svg+xml;charset=utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"><circle cx="200" cy="200" r="150" fill="none" stroke="white" stroke-width="3" opacity="0.08"/><ellipse cx="160" cy="180" rx="15" ry="25" fill="white" opacity="0.08"/><ellipse cx="240" cy="180" rx="15" ry="25" fill="white" opacity="0.08"/><path d="M 160 220 Q 200 260 240 220" stroke="white" stroke-width="4" fill="none" opacity="0.08"/><text x="200" y="320" text-anchor="middle" fill="white" opacity="0.08" font-family="sans-serif" font-size="28" font-weight="bold">KORNDOG</text></svg>');
      background-repeat:no-repeat;background-position:center;background-size:500px;
      opacity:0.6;pointer-events:none;z-index:-1
    }
    
    /* Special background for About page */
    #about{position:relative}
    #about::before{
      content:'';position:fixed;top:0;left:0;right:0;bottom:0;
      background:linear-gradient(135deg,#ff69b4,#32cd32) !important;
      background-image:url('data:image/svg+xml;charset=utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400"><g opacity="0.25"><circle cx="200" cy="200" r="120" fill="none" stroke="white" stroke-width="4"/><circle cx="170" cy="170" r="12" fill="white"/><path d="M 185 170 L 195 160 M 185 160 L 195 170" stroke="white" stroke-width="3"/><circle cx="230" cy="170" r="12" fill="white"/><ellipse cx="200" cy="210" rx="8" ry="4" fill="white"/><path d="M 170 240 Q 200 260 230 240" stroke="white" stroke-width="4" fill="none"/><path d="M 180 130 Q 200 120 220 130" stroke="white" stroke-width="3" fill="none"/><circle cx="190" cy="140" r="18" fill="white"/><path d="M 180 135 Q 190 125 200 135 Q 190 145 180 135" fill="white"/><path d="M 175 245 L 185 255 M 215 255 L 225 245" stroke="white" stroke-width="2"/></g></svg>') !important;
      background-repeat:no-repeat;background-position:center;background-size:600px;
      pointer-events:none;z-index:-1
    }
    
    a{color:inherit;text-decoration:none}
    .btn{background:#0e1624;border:1px solid #253146;color:#d7e3f4;border-radius:10px;
      padding:12px 16px;cursor:pointer;min-height:44px;border:none;font-family:inherit}
    .btn:hover{background:#151f31}.btn.primary{background:var(--green);border-color:var(--green);color:#fff}
    .btn.primary:hover{background:var(--green2)}
    .badge{background:#121827;border:1px solid #243041;color:#a3d2ff;border-radius:999px;padding:2px 7px;margin-left:6px}
    .nav{position:sticky;top:0;z-index:50;background:rgba(11,18,32,.95);backdrop-filter:blur(8px);
      border-bottom:1px solid rgba(255,255,255,.1);padding:14px 18px;display:flex;justify-content:space-between;align-items:center}
    .brand{display:flex;gap:10px;align-items:center;font-weight:800;color:var(--accent);cursor:pointer}
    .brand img{width:34px;height:34px;border-radius:50%}
    .links{display:flex;gap:12px;align-items:center}
    .links a{padding:8px 12px;border-radius:6px;transition:background 0.2s}
    .links a:hover{background:rgba(255,255,255,0.1)}
    main{min-height:calc(100vh - 60px)}
    .page{display:none}.page.active{display:block}

    /* Hero */
    .hero{min-height:100vh;display:grid;place-items:center;text-align:center;padding:36px 20px}
    .hero-logo{width:300px;height:300px;border-radius:50%;background:rgba(255,255,255,.12);
      border:2px solid rgba(255,255,255,.3);display:grid;place-items:center;margin:0 auto 24px;cursor:pointer;overflow:hidden}
    .hero-logo img{width:72%;height:auto;border-radius:50%}
    .hero h1{font-size:56px;line-height:1.05;margin:10px 0 10px;font-weight:900}
    .sub{color:#dfe9f8;max-width:700px;margin:0 auto 18px;font-size:18px}
    .cta{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:10px}
    .container{max-width:1200px;margin:0 auto;padding:18px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
    .card{background:rgba(0,0,0,.25);border:1px solid rgba(255,255,255,.1);border-radius:14px;overflow:hidden;perspective:1000px}
    .card-inner{position:relative;width:100%;height:200px;transition:transform 0.6s;transform-style:preserve-3d}
    .card:hover .card-inner{transform:rotateY(180deg)}
    .card.flipped .card-inner{transform:rotateY(180deg)}
    .card-front,.card-back{position:absolute;width:100%;height:100%;backface-visibility:hidden;display:flex;align-items:center;justify-content:center}
    .card-back{transform:rotateY(180deg);background:#0b1220}
    .card img{display:block;width:100%;height:200px;object-fit:cover;background:#0b1220}
    .card .pad{padding:14px}
    .item-title{font-weight:800;margin:8px 0 6px}
    .price{color:#c4e6ff;margin-bottom:12px;font-weight:600}
    .store-head{display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap;margin-bottom:16px}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{background:#0f1729;border:1px solid #273043;color:#d7e3f4;border-radius:8px;padding:8px 12px;cursor:pointer;border:none}
    .tab.active,.tab:hover{background:#172136}

    /* Cart drawer */
    .drawer{position:fixed;top:0;right:-440px;width:440px;max-width:95vw;height:100vh;background:#0c1423;color:#eaf4ff;
      border-left:1px solid #253146;transition:right .28s ease;display:flex;flex-direction:column;z-index:60}
    .drawer.open{right:0}
    .drawer header{display:flex;justify-content:space-between;align-items:center;padding:14px;border-bottom:1px solid #223045}
    .drawer main{flex:1;overflow:auto;padding:14px}
    .cart-item{display:flex;gap:12px;border:1px solid #223045;border-radius:10px;padding:12px;margin-bottom:10px}
    .cart-item img{width:60px;height:60px;object-fit:cover;border-radius:8px}
    .drawer footer{border-top:1px solid #223045;padding:14px}
    .row{display:flex;justify-content:space-between;align-items:center;margin:6px 0;gap:8px}
    .total{font-size:18px;border-top:1px solid #233046;padding-top:8px;margin-top:8px}

    /* Admin panel */
    .admin{position:fixed;inset:0;background:rgba(0,0,0,.7);backdrop-filter:blur(2px);display:none;z-index:80}
    .admin.show{display:block}
    .admin-inner{position:absolute;right:0;top:0;width:100%;max-width:980px;height:100%;background:#0b1220;border-left:1px solid #223045;overflow:auto}
    .adm-head{display:flex;justify-content:space-between;align-items:center;padding:14px;border-bottom:1px solid #223045}
    .admin-grid{display:grid;grid-template-columns:380px 1fr;gap:14px;padding:14px}
    .admin-card{background:#0e1628;border:1px solid #223145;border-radius:12px;padding:14px}
    label{display:block;font-size:13px;margin:10px 0;color:#cfe0ff}
    input,select,textarea{width:100%;background:#0b1322;border:1px solid #273246;color:#e6f1ff;border-radius:8px;padding:9px;margin-top:6px}
    .row2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .photo-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin:10px 0}
    .ph{background:#0b1322;border:1px solid #273246;border-radius:10px;padding:10px;text-align:center;cursor:pointer}
    .ph img{width:100%;height:120px;object-fit:cover;border-radius:8px;margin-bottom:8px}
    .ph input{display:none}

    /* Radio player widget */
    .radio-widget{
      position:absolute;bottom:40px;left:50%;transform:translateX(-50%);
      background:rgba(0,0,0,0.4);backdrop-filter:blur(10px);
      border:1px solid rgba(255,255,255,0.2);border-radius:12px;
      padding:16px;display:flex;flex-direction:column;gap:12px;min-width:300px
    }
    .radio-controls{display:flex;align-items:center;gap:10px}
    .radio-btn{width:40px;height:40px;border-radius:50%;background:rgba(255,255,255,0.1);
      border:1px solid rgba(255,255,255,0.3);display:flex;align-items:center;justify-content:center;
      cursor:pointer;color:#fff;font-size:18px}
    .radio-btn:hover{background:rgba(255,255,255,0.2)}
    .radio-btn.playing{background:var(--green);border-color:var(--green)}
    .station-info{flex:1;text-align:center}
    .station-name{font-weight:bold;margin-bottom:4px}
    .genre{font-size:12px;color:#b6c2d1}
    .stations{display:flex;gap:6px;justify-content:center;flex-wrap:wrap}
    .station{background:rgba(255,255,255,0.1);border:1px solid rgba(255,255,255,0.2);
      border-radius:6px;padding:4px 8px;cursor:pointer;font-size:11px}
    .station:hover{background:rgba(255,255,255,0.2)}
    .station.active{background:var(--accent);color:#000}

    @media (max-width:860px){
      .hero{min-height:100svh}
      .hero h1{font-size:42px}
      .hero-logo{width:240px;height:240px}
      .admin-grid{grid-template-columns:1fr}
      .drawer{width:100vw;max-width:100vw}
      .radio-widget{min-width:280px;bottom:20px}
    }
      .hero{min-height:100svh}
      .hero h1{font-size:42px}
      .hero-logo{width:240px;height:240px}
      .admin-grid{grid-template-columns:1fr}
      .drawer{width:100vw;max-width:100vw}
    }
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav">
    <div class="brand" onclick="showPage('home')">
      <span>🎵 KornDog Records</span>
    </div>
    <div class="links">
      <div id="nowPlaying" style="display:none;color:#ffd166;font-size:12px;margin-right:12px;">
        🎵 <span id="nowPlayingText"></span>
      </div>
      <a href="#" onclick="showPage('home')">Home</a>
      <a href="#" onclick="showPage('store')">Shop</a>
      <a href="#" onclick="showPage('about')">About</a>
      <button class="btn" onclick="openCart()">Cart <span id="cartCount" class="badge">0</span></button>
    </div>
  </nav>

  <!-- PAGES -->
  <main>
    <!-- HOME -->
    <section id="home" class="page active">
      <div class="hero">
        <div class="hero-logo" onclick="showPage('store')">
          <div style="font-size:72px">🎵</div>
        </div>
        <h1>Vinyl Therapy Always On Deck</h1>
        <p class="sub">Hand-picked records, Funkos & collectibles for music lovers and pop culture enthusiasts.</p>
        <div class="cta">
          <button class="btn primary" onclick="showPage('store')">Enter The Shop</button>
          <button class="btn" onclick="showPage('about')">About</button>
        </div>
        
        <!-- GTA-Style Radio Widget -->
        <div class="radio-widget">
          <div class="radio-controls">
            <button class="radio-btn" onclick="toggleRadio()" id="playBtn">▶️</button>
            <div class="station-info">
              <div class="station-name" id="stationName">Select Station</div>
              <div class="genre" id="genreName">Choose your vibe</div>
            </div>
            <button class="radio-btn" onclick="nextStation()">⏭️</button>
          </div>
          <div class="stations">
            <button class="station active" onclick="setStation(0)">Metal</button>
            <button class="station" onclick="setStation(1)">Funk</button>
            <button class="station" onclick="setStation(2)">R&B</button>
            <button class="station" onclick="setStation(3)">Country</button>
            <button class="station" onclick="setStation(4)">Classic Rock</button>
          </div>
          <audio id="radioPlayer" preload="none"></audio>
        </div>
      </div>
    </section>

    <!-- STORE -->
    <section id="store" class="page">
      <div class="container">
        <header class="store-head">
          <h2>Explore Our Collections</h2>
          <div class="tabs">
            <button class="tab active" onclick="filterProducts('all',this)">All</button>
            <button class="tab" onclick="filterProducts('vinyl',this)">Vinyl</button>
            <button class="tab" onclick="filterProducts('cd',this)">CDs</button>
            <button class="tab" onclick="filterProducts('funko',this)">Funkos</button>
            <button class="tab" onclick="filterProducts('collectible',this)">Collectibles</button>
          </div>
        </header>
        <div id="grid" class="grid"></div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="page">
      <div class="container" style="padding-top: 40px; padding-bottom: 60px;">
        <h2>About Me (Korndog Records)</h2>
        <p>Music's always been in my blood — thanks to my mom and dad — but vinyl didn't hit me 'til after my mom's wreck. She didn't make it. That moment split my world in two. Records became therapy. No therapist. No pills. Just needle to groove. It grounded me. Every spin pulls me back — riding shotgun with my old man, laughing with my kids, slow dancing with my wife.</p>
        
        <p>This site? It's not about algorithms, trends, or fake hype. It's about soul. About stories. About memories you can hear. Every record here means something. It's not just wax — it's a vibe. A scar. A time machine.</p>
        
        <p>If you get it, you get it.<br>
        Welcome to Korndog Records — where vinyl therapy is always on deck.</p>
        
        <h3 style="margin-top: 40px; margin-bottom: 20px;">Zombie Kitty Story</h3>
        <p>Zombie Kitty isn't just a mascot — she's family. She was born out of a Friday the 13th tattoo session with my daughter Elizabeth. Purple rose eye, stitched-up smile — part nightmare, part love letter. She's a reminder that scars can be turned into art, that even the broken pieces still tell a story.</p>
        
        <p>For Korndog Records, Zombie Kitty lives in the grooves. She pops up when the music hits that raw nerve — the scratchy edges, the late-night confessions, the songs that refuse to die. Just like her, vinyl never really fades. It comes back to life every time the needle drops.</p>
        
        <h3 style="margin-top: 40px; margin-bottom: 20px;">Find Us Elsewhere</h3>
        <div style="display: flex; gap: 16px; flex-wrap: wrap;">
          <a href="https://www.discogs.com/user/korndog0804" target="_blank" class="btn primary" style="text-decoration: none; display: inline-block;">
            🎵 Discogs Profile
          </a>
          <a href="https://whatnot.com/s/OisexUo7" target="_blank" class="btn primary" style="text-decoration: none; display: inline-block;">
            📺 Whatnot Live Shows
          </a>
        </div>
        <p style="margin-top: 20px; color: #b6c2d1; font-size: 14px;">
          Follow us on Discogs for our complete collection history and catch our live Whatnot shows for exclusive deals and real-time vinyl discoveries!
        </p>
        
        <div style="margin-top: 40px; padding-top: 30px; border-top: 1px solid rgba(255,255,255,0.2);">
          <button class="btn" onclick="adminPortal()" style="background: rgba(0,0,0,0.4); border: 1px solid rgba(255,255,255,0.3);">
            🔒 Admin Portal
          </button>
        </div>
      </div>
    </section>
  </main>

  <!-- CART DRAWER -->
  <aside class="drawer" id="drawer">
    <header><strong>Your Cart</strong><button class="btn" onclick="closeCart()">Close</button></header>
    <main id="cartList"></main>
    <footer>
      <div class="row"><span>Subtotal:</span><strong id="subtotal">$0.00</strong></div>
      <div class="row"><span class="small">Discount:</span><span id="discount">$0.00</span></div>
      <div class="row"><span class="small">Tax (6%):</span><span id="tax">$0.00</span></div>
      <div class="row total"><span>Total:</span><strong id="grand">$0.00</strong></div>
      <div id="paypal-buttons" class="paypal"></div>
      <button class="btn" onclick="clearCart()" style="width:100%;margin-top:10px">Clear cart</button>
    </footer>
  </aside>

  <!-- ADMIN PANEL -->
  <div id="admin" class="admin">
    <div class="admin-inner">
      <div class="adm-head">
        <strong>Admin Panel</strong>
        <div style="display:flex;gap:8px">
          <button class="btn" onclick="backup()">Backup</button>
          <button class="btn" onclick="importBackup()">Import</button>
          <button class="btn" onclick="hideAdmin()">Close</button>
        </div>
      </div>

      <div class="admin-grid">
        <!-- Add/Edit -->
        <form id="prodForm" class="admin-card" onsubmit="saveProduct(event)">
          <h3>Add / Edit Product</h3>
          <label>Title<input id="pTitle" required></label>
          <div class="row2">
            <label>Category
              <select id="pType" required>
                <option value="vinyl">Vinyl</option><option value="cd">CD</option>
                <option value="funko">Funko</option><option value="collectible">Collectible</option>
              </select>
            </label>
            <label>Price ($)
              <input id="pPrice" type="number" step="0.01" required onblur="snapPrice(this)">
              <small style="color:#9fb4c9">Snaps to .99 or .59</small>
            </label>
          </div>

          <!-- 2×2 photo pickers -->
          <div class="photo-grid">
            <div class="ph" onclick="document.getElementById('pFront').click()">
              <img id="prevFront" src="data:image/svg+xml;charset=utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%23ffd166'/><text x='50' y='55' text-anchor='middle' fill='%233b2aa2' font-family='sans-serif' font-size='12' font-weight='bold'>Front</text></svg>" alt="Front">
              <input id="pFront" type="file" accept="image/*" capture="environment" onchange="readImage(this,'prevFront')"><span>Front</span>
            </div>
            <div class="ph" onclick="document.getElementById('pBack').click()">
              <img id="prevBack" src="data:image/svg+xml;charset=utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%230fa77f'/><text x='50' y='55' text-anchor='middle' fill='%23fff' font-family='sans-serif' font-size='12' font-weight='bold'>Back</text></svg>" alt="Back">
              <input id="pBack" type="file" accept="image/*" capture="environment" onchange="readImage(this,'prevBack')"><span>Back</span>
            </div>
            <div class="ph" onclick="document.getElementById('pAlt1').click()">
              <img id="prevAlt1" src="data:image/svg+xml;charset=utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%2387ceeb'/><text x='50' y='55' text-anchor='middle' fill='%23fff' font-family='sans-serif' font-size='12' font-weight='bold'>Alt1</text></svg>" alt="Alt1">
              <input id="pAlt1" type="file" accept="image/*" capture="environment" onchange="readImage(this,'prevAlt1')"><span>Alt 1</span>
            </div>
            <div class="ph" onclick="document.getElementById('pAlt2').click()">
              <img id="prevAlt2" src="data:image/svg+xml;charset=utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='%23ff7085'/><text x='50' y='55' text-anchor='middle' fill='%23fff' font-family='sans-serif' font-size='12' font-weight='bold'>Alt2</text></svg>" alt="Alt2">
              <input id="pAlt2" type="file" accept="image/*" capture="environment" onchange="readImage(this,'prevAlt2')"><span>Alt 
